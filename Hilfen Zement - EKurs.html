<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Kurs: Hilfe Deutung & Merksatz</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>E-Kurs: Hilfestellungen</h1>

    <section id="deutung-e">
        <h2>Deutung (E-Kurs)</h2>
        <p>Erkläre das Ergebnis (auch mithilfe von Reaktionsgleichungen).</p>

        <button onclick="toggleHint('e-deutung-grundlagen')">Chemische Grundlagen vertiefen</button>
        <div id="e-deutung-grundlagen" class="hidden hint-box">
            <p>Erklärt, warum Calciumhydroxid in Wasser eine alkalische Lösung bildet. Welche Ionen sind dafür verantwortlich und wie beeinflussen sie den pH-Wert?</p>
        </div>
        
        <h3>Reaktionsgleichungen</h3>
        <p><strong>1. Reaktion von Calciumoxid mit Wasser:</strong></p>
        <p>CaO (s) + H₂O (l) → <input type="text" id="e-produkt-hydroxid" placeholder="Produktformel hier"> <button onclick="checkEProduktHydroxid()">Prüfen</button> <span id="e-produkt-hydroxid-feedback"></span></p>
        <button onclick="showSolution('e-produkt-hydroxid-loesung', 'Ca(OH)₂ (s/aq)')">Lösung anzeigen</button>
        <div id="e-produkt-hydroxid-loesung" class="hidden hint-box">Lösung: Ca(OH)₂ (s/aq)</div>

        <p><strong>2. Dissoziation von Calciumhydroxid in Wasser:</strong></p>
        <p>Ca(OH)₂ (aq) → <input type="text" id="e-produkt-kation" placeholder="Kation"> + <input type="text" id="e-produkt-anion" placeholder="Anion(en)"> <button onclick="checkEDissoziation()">Prüfen</button> <span id="e-dissoziation-feedback"></span></p>
        <button onclick="showSolution('e-dissoziation-loesung', 'Ca²⁺ (aq) + 2 OH⁻ (aq)')">Lösung anzeigen</button>
        <div id="e-dissoziation-loesung" class="hidden hint-box">Lösung: Ca²⁺ (aq) + 2 OH⁻ (aq)</div>
        
        <button onclick="toggleHint('e-deutung-ph-bezug')">Bezug zum pH-Wert</button>
        <div id="e-deutung-ph-bezug" class="hidden hint-box">
            <p>Erläutert anhand der Dissoziationsgleichung, warum die Lösung alkalisch reagiert und wie dies mit dem pH-Wert zusammenhängt (Stichwort: Konzentration der OH⁻-Ionen).</p>
        </div>

        <button onclick="toggleHint('e-deutung-vergleich')">Vergleich mit Säuren</button>
        <div id="e-deutung-vergleich" class="hidden hint-box">
            <p>Vergleicht die Wirkung von OH⁻-Ionen mit der euch bekannten Wirkung von H⁺-Ionen (oder H₃O⁺-Ionen) aus Säuren. Gibt es Gemeinsamkeiten in der ätzenden Wirkung?</p>
        </div>

        <button onclick="toggleHint('e-deutung-fachsprache')">Hinweis zur Fachsprache</button>
        <div id="e-deutung-fachsprache" class="hidden hint-box">
            <p>Achtet auf eine exakte chemische Fachsprache bei eurer Erklärung (z.B. korrekte Verwendung von Begriffen wie Ion, Dissoziation, alkalisch, pH-Wert, Konzentration).</p>
        </div>
    </section>

    <section id="erkenntnis-e">
        <h2>Erkenntnis: Merksatz formulieren (E-Kurs)</h2>
        
        <button onclick="toggleHint('e-erkenntnis-schluesselbegriffe')">Schlüsselbegriffe für den Merksatz</button>
        <div id="e-erkenntnis-schluesselbegriffe" class="hidden hint-box">
            <p>In eurem Merksatz sollten folgende Begriffe oder deren Umschreibungen vorkommen:</p>
            <ul>
                <li>Calciumoxid / Calciumhydroxid</li>
                <li>alkalische Reaktion / Base</li>
                <li>Hydroxid-Ionen (OH⁻)</li>
                <li>hoher pH-Wert</li>
                <li>ätzende Wirkung / Verätzung</li>
                <li>Schutzmaßnahmen</li>
            </ul>
        </div>

        <button onclick="toggleHint('e-erkenntnis-anforderung')">Anforderung an den Merksatz</button>
        <div id="e-erkenntnis-anforderung" class="hidden hint-box">
            <p>Formuliert einen prägnanten Merksatz, der den chemischen Hintergrund des Zementbrands und die daraus resultierende Gefahr sowie notwendige Schutzmaßnahmen wissenschaftlich korrekt zusammenfasst.</p>
            <p>Der Merksatz sollte die Kausalkette von der Reaktion des Zements mit Wasser bis zur Hautschädigung erklären.</p>
        </div>

        <button onclick="toggleHint('e-erkenntnis-beispiel')">Beispiel für einen anspruchsvollen Merksatz</button>
        <div id="e-erkenntnis-beispiel" class="hidden hint-box">
            <p><strong>Mögliche Struktur/Beispiel:</strong><br>
            Zement enthält Calciumoxid (CaO), das mit Wasser (H₂O) exotherm zu Calciumhydroxid (Ca(OH)₂) reagiert. Calciumhydroxid ist eine Base, die in wässriger Lösung in Calcium-Ionen (Ca²⁺) und Hydroxid-Ionen (OH⁻) dissoziiert. Die erhöhte Konzentration von Hydroxid-Ionen führt zu einem hohen pH-Wert (stark alkalische Lösung), welche Proteine denaturieren und somit schwere Verätzungen der Haut und Schleimhäute verursachen kann. Daher sind beim Umgang mit Zement adäquate Schutzmaßnahmen wie Handschuhe und Schutzbrille unerlässlich.</p>
        </div>
         <textarea id="e-merksatz-input" rows="4" cols="70" placeholder="Formuliere hier deinen Merksatz..."></textarea>
         <br>
         <button onclick="checkEMerksatz()">Merksatz prüfen (Selbstkontrolle)</button>
         <div id="e-merksatz-feedback" class="hint-box hidden"></div>
    </section>

    <script>
        function toggleHint(id) {
            const element = document.getElementById(id);
            element.classList.toggle('hidden');
        }

        function showSolution(id, solutionText) {
            const element = document.getElementById(id);
            // For solution boxes that might contain HTML like <sup> or <sub>
            element.innerHTML = solutionText;
            element.classList.remove('hidden');
        }

        function checkEProduktHydroxid() {
            const input = document.getElementById('e-produkt-hydroxid').value.replace(/\s/g, '');
            const feedback = document.getElementById('e-produkt-hydroxid-feedback');
            if (input.toUpperCase() === 'CA(OH)2' || input.toUpperCase() === 'CA(OH)₂') {
                feedback.innerHTML = 'Korrekt! <span class="correct">Ca(OH)₂</span>';
                feedback.className = 'correct';
            } else {
                feedback.textContent = 'Überprüfe die Formel (Indexzahlen, Klammern).';
                feedback.className = 'incorrect';
            }
        }

        function checkEDissoziation() {
            const kationInput = document.getElementById('e-produkt-kation').value.replace(/\s/g, '');
            const anionInput = document.getElementById('e-produkt-anion').value.replace(/\s/g, '');
            const feedback = document.getElementById('e-dissoziation-feedback');
            
            let kationCorrect = (kationInput === 'Ca2+' || kationInput === 'Ca²⁺');
            // Allow 2OH- or 2OH⁻ or OH- + OH- or OH⁻ + OH⁻
            let anionCorrect = (anionInput === '2OH-' || anionInput === '2OH⁻'); 

            if (kationCorrect && anionCorrect) {
                feedback.innerHTML = 'Korrekt! <span class="correct">Ca²⁺ + 2 OH⁻</span>';
                feedback.className = 'correct';
            } else {
                let errorMsg = "Prüfe: ";
                if (!kationCorrect) errorMsg += "Kation (Ladung?); ";
                if (!anionCorrect) errorMsg += "Anion (Anzahl und Ladung?); ";
                feedback.textContent = errorMsg;
                feedback.className = 'incorrect';
            }
        }

        function checkEMerksatz() {
            const merksatz = document.getElementById('e-merksatz-input').value.toLowerCase();
            const feedback = document.getElementById('e-merksatz-feedback');
            feedback.classList.remove('hidden');
            let suggestions = "<strong>Selbstkontrolle:</strong><ul>";
            let foundIssues = 0;

            const keywords = {
                "calciumoxid oder cao": /calciumoxid|cao/,
                "calciumhydroxid oder ca(oh)₂": /calciumhydroxid|ca\(oh\)₂|ca\(oh\)2/,
                "alkalisch oder base": /alkalisch|base|basisch/,
                "hydroxid-ion oder oh⁻": /hydroxid-ion|hydroxidion|oh⁻|oh-/,
                "ph-wert": /ph-wert|ph wert/,
                "ätzend oder verätzung": /ätzend|verätzung|ätz|\sätzung/,
                "schutzmaßnahme": /schutzmaßnahme|handschuhe|schutzbrille|schützen/
            };

            for (const key in keywords) {
                if (!keywords[key].test(merksatz)) {
                    suggestions += `<li>Ist der Begriff "<strong>${key}</strong>" oder eine Umschreibung enthalten?</li>`;
                    foundIssues++;
                }
            }
             suggestions += "</ul>";

            if (foundIssues === 0) {
                feedback.innerHTML = "<strong class='correct'>Sieht gut aus! Du scheinst die wichtigsten Punkte abgedeckt zu haben.</strong> Überprüfe nochmal auf logische Verknüpfung und Präzision.";
            } else {
                feedback.innerHTML = suggestions + "<p>Dein Merksatz ist ein guter Anfang. Überlege, ob du die fehlenden Aspekte noch einbauen kannst, um ihn vollständiger zu machen.</p>";
            }
        }
    </script>
</body>
</html>